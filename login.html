<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>TELA DE LOGIN</h1>

    <input type="text" placeholder="nome" id="name"><br>
    <input type="password" placeholder="senha" id="password"><br>
    
    <button onclick="fazerLogin()">Fazer Login</button><br><br>

    <ul id="ul_mensagem"></ul>
</body>
</html>
<script>
    async function fazerLogin() {
        let name = document.getElementById("name").value
        let password = document.getElementById("password").value

        let listarUsuarios = await fetch("http://localhost:3000/user", {
            method: "GET",
            headers: {
                "Content-Type": "application/json"
            }
        })

        let usuarios = await listarUsuarios.json()

        for (let i = 0; i < usuarios.length; i++) {
            if (usuarios[i].name == name && usuarios[i].password == password) {
                ul_mensagem.innerHTML = `<li>Bem vindo, ${usuarios[i].name}!</li><br>`
                break
            } else {
                ul_mensagem.innerHTML = `<li>Nome ou senha incorretos!</li><br>`
            }
        }
    }
</script>